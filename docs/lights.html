<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>bs::f docs - Lights</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='http://fonts.googleapis.com/css?family=Lato:normal,bold|Cabin:normal,bold' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="../SemanticUI/semantic.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
<link href="../SemanticUI/semantic.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="everything">
	<div class="ui inverted vertical center aligned segment" id="menuSegment">
		<div class="ui container">
			<div class="ui inverted mainmenu menu">
				<a href="https://www.bsframework.io"><div class="item" id="logoItem"><img class="ui image" id="logo" src="logoHeader.png"></div></a>
				<div class="right menu">
					<a class="borderless item" href="https://www.bsframework.io">Home</a>
					<a class="item" href="https://www.bsframework.io/download.html">Download</a>
					<a class="item" href="https://discourse.bsframework.io">Community</a>
					<a class="active item" href="https://www.bsframework.io/docs/index.html">Documentation</a>
					<a class="item" href="https://github.com/gamefoundry/bsf"><i class="github icon"></i>GitHub</a>
				</div>
			</div>
		</div>
	</div>	
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Lights </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#lights_a">Light types</a><ul><li class="level2"><a href="#lights_a_a">Radial light</a></li>
<li class="level2"><a href="#lights_a_b">Spot light</a></li>
<li class="level2"><a href="#lights_a_c">Directional light</a></li>
</ul>
</li>
<li class="level1"><a href="#lights_b">Light properties</a><ul><li class="level2"><a href="#lights_b_a">Color</a></li>
<li class="level2"><a href="#lights_b_b">Attenuation radius</a></li>
<li class="level2"><a href="#lights_b_c">Intensity</a></li>
<li class="level2"><a href="#lights_b_d">Source radius</a></li>
<li class="level2"><a href="#lights_b_e">Shadows</a></li>
<li class="level2"><a href="#lights_b_f">Spot angles</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Lights control the rendering of the nearby <b>Renderable</b> objects, by attempting to simulate how a real light would affect them. They are represented by the <a class="el" href="classbs_1_1_c_light.html">Light</a> component. They are essential for creating a realistic 3D scene.</p>
<h1>Creating a light</h1>
<p><b>Light</b> is created as any component, and requires no additional parameters.</p>
<div class="fragment"><div class="line">HSceneObject lightSO = SceneObject::create(<span class="stringliteral">&quot;Light&quot;</span>);</div><div class="line">HLight light = lightSO-&gt;addComponent&lt;CLight&gt;();</div></div><!-- fragment --><p>Once created light can be positioned and oriented normally using its <b>SceneObject</b>.</p>
<h1><a class="anchor" id="lights_a"></a>
Light types</h1>
<p>Lights have three variants that determine how light affects surrounding objects: radial, spot and directional. You can change between light variants with <a class="el" href="classbs_1_1_c_light.html#a76298b379b7a5f46b7fdf74ef2a5627d">CLight::setType()</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Make a radial light</span></div><div class="line">light-&gt;setType(LightType::Radial);</div></div><!-- fragment --><h2><a class="anchor" id="lights_a_a"></a>
Radial light</h2>
<p>Radial light affects everything within a certain radius from the light (i.e. its sphere of influence). It is the most basic type of light.</p>
<p>TODO_IMAGE</p>
<h2><a class="anchor" id="lights_a_b"></a>
Spot light</h2>
<p>Spot lights only illuminate a certain direction (i.e. like a flash-light). The user can specify the angle of illumination.</p>
<p>TODO_IMAGE</p>
<h2><a class="anchor" id="lights_a_c"></a>
Directional light</h2>
<p>Directional lights are a special type of light primarily used for simulating sun-light, or otherwise far-away objects. Unlike radial or spot lights they cannot be positioned. Only their orientation matters and they equally affect every object in the scene.</p>
<p>TODO_IMAGE</p>
<h1><a class="anchor" id="lights_b"></a>
Light properties</h1>
<p>Each light has a set of properties you can adjust (aside from position/orientation, which are handled by the <b>SceneObject</b>). Most of the properties are common for all light types but some are only relevant for specific types. We'll go over all of the properties below.</p>
<h2><a class="anchor" id="lights_b_a"></a>
Color</h2>
<p>As the name implies, this controls what color light is being emitted from the source. It can be set by calling <a class="el" href="classbs_1_1_c_light.html#a518eaa08866d5abe9e686d1ccf476eec">CLight::setColor()</a> and it is valid for all light types.</p>
<h2><a class="anchor" id="lights_b_b"></a>
Attenuation radius</h2>
<p>Attenuation radius determines how far away does the light's influence reach. For radial lights this is the radius of the sphere of influence, and for spot lights this is the distance from the origin in the direction of the light. This property is not relevant for directional lights as their range is infinite. Use <a class="el" href="classbs_1_1_c_light.html#a0f82acc9859cf6bfd3a1c197834f8979">CLight::setAttenuationRadius()</a> to set the range.</p>
<p>Note that the manually set range will only be used if automatic attenuation is disabled. You can toggle this by calling <a class="el" href="classbs_1_1_c_light.html#a438300e284e363586b2fc34e6be83bbf">CLight::setUseAutoAttenuation()</a>. When automatic attenuation is enabled the maximum range is calculated automatically based on the light intensity (described below). This automatic attenuation will smoothly cut off the light influence when it reaches roughly 10% of its intensity, but can result in very large attenuation radius, which can affect performance.</p>
<h2><a class="anchor" id="lights_b_c"></a>
Intensity</h2>
<p>This controls how strong is the light. Although you could technically control light intensity using the color property (by using a lighter or darker color), using the intensity allows the engine to simulate high-dynamic range.</p>
<p>In nature the range of light intensities varies highly - standing outside at a sunlit day may be hundreds or thousands of times brighter than standing indoors illuminated by a lightbulb. We won't perceive such a large difference because our eyes are able to adjust to different intensities.</p>
<p>bs::f uses a HDR algorithm to try to approximate this adjustment, which results in more realistic and higher quality lighting. Therefore it can be important for realism to set up the light intensities similar to what they would be in nature.</p>
<p>Use <a class="el" href="classbs_1_1_c_light.html#ace02325cb6289c007d569c193641c468">CLight::setIntensity()</a> to change the light intensity.</p>
<p>The specific units used for intensity (in case you want to look them up for actual light sources) are <em>luminous flux</em> for radial/spot lights, and <em>luminance</em> for directional lights. Generally this means directional light intensity should be much lower than for radial/spot lights.</p>
<h2><a class="anchor" id="lights_b_d"></a>
Source radius</h2>
<p>By default all lights are considered point (punctual) lights, meaning they have no surface area. In case you want to make an area light set the source radius of the light by calling <a class="el" href="classbs_1_1_c_light.html#a9e972bbb437e2fd55346197a22d8a109">CLight::setSourceRadius()</a>. The value of this property is interpreted differently depending on light type:</p><ul>
<li>Radial - Light represents a spherical area light and source radius is the sphere's radius</li>
<li>Spot - Light represents a disc area light (oriented toward spot direction) and the source radius in the disc radius</li>
<li>Directional - Light represents a disc area light projected on the sky, and the source radius represents the angular radius (in degrees) of the light. For example, Sun's angular radius is roughly 0.5Â° (varies slighly).</li>
</ul>
<p>Area light types are particulary important for physically based rendering, as they can produce realistic looking specular reflections, which is not the case for point lights.</p>
<h2><a class="anchor" id="lights_b_e"></a>
Shadows</h2>
<p>Lights may or may not cast shadows. For realism all lights should cast shadows, but that is not feasible due to the high performance costs of using shadows. Therefore you should enable shadows only for one, or a few important lights. Use <a class="el" href="classbs_1_1_c_light.html#ac75895a04ecdf306b8372ab8c9c81adc">CLight::setCastsShadow()</a> to enable or disable shadow casting.</p>
<p>Casting shadows can cause artifacts called "shadow acne" in the scene. These artifacts occur due to an object casting a shadow on itself, caused limited precision of the calculations used. To combat this effect you can tweak the shadow bias property. Shadow bias moves the distance from which the shadow is cast, ensuring incorrect self-shadowing is avoided. Shadow bias can be tweaked by calling <a class="el" href="classbs_1_1_c_light.html#a0535f25bbfd17e5978e6fd07db432961">CLight::setShadowBias()</a>.</p>
<p>TODO_IMAGE</p>
<p>Valid shadow bias values are from -1 to 1. When value is 0 no shadow bias will be applied, while positive shadow bias values will offset the shadow distance as described above. However offseting the shadow distance may cause the objects to appear like they are floating even if they are in contact with a surface.</p>
<p>TODO_IMAGE</p>
<p>By setting the shadow bias to a negative value you move the shadow backwards, resolving both the shadow acne and the floating object issue. However this only works if your geometry has thickness, otherwise elements behind the object will be incorrectly shadowed. This is generally the best option as long as you can set up your geometry correctly.</p>
<h2><a class="anchor" id="lights_b_f"></a>
Spot angles</h2>
<p>Spot light have a property that defines at how wide an angle do they cast light in. Narrower angle means a more focused light beam, while wider angle means a weaker light covering a larger area.</p>
<p>You can set the spot light angle (also knows as total angle) with <a class="el" href="classbs_1_1_c_light.html#a2bd042d68eb0d9574102f65d881c7b71">CLight::setSpotAngle</a>. Note that light intensity will be spread out over the range, so when increasing the angle, you might also want to increase the intensity to keep the perceived brightness the same.</p>
<p>You can also call <a class="el" href="classbs_1_1_c_light.html#a53bcb1ff1159ebed6a801cf7067186b5">CLight::setSpotFalloffAngle</a> to set an angle that allows a smooth falloff at the edge of the lights radius. This must be an angle smaller than the total spot angle. Within this angle the light intensity will be uniform, but as the angle increases past the falloff angle and towards the total angle and intensity will slowly reduce, resulting in a smooth falloff curve. If you don't want the smooth falloff, set this angle to the same value as the total angle.</p>
<p>TODO_IMAGE </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
    <!-- Footer -->
    <div class="myFooter">
		<div class="ui inverted vertical footer segment" style="border-top: 2px solid #f9500d;">
			<div class="ui container">
				<div class="ui stackable inverted divided equal height grid">
					<div class="three wide column">
						<h4 class="ui inverted header">Contact</h4>
						<div class="ui inverted link list">
							<a href="mailto:contact@bsframework.io" class="item">Contact us</a>
							<a href="https://github.com/GameFoundry/bsf/issues" target="_blank" class="item">Report an issue</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">Info</h4>
						<div class="ui inverted link list">
							<a href="https://github.com/GameFoundry/bsf" target="_blank" class="item">Contribute</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/Documentation/GitHub/roadmap.md" target="_blank" class="item">Roadmap</a>
							<a href="https://github.com/GameFoundry/bsf/blob/master/LICENSE.md" target="_blank" class="item">License</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">Donate</h4>
						<div class="ui horizontal list">
							<div class="item"><a href="https://www.patreon.com/bsf"><img class="ui image" src="become_a_patron_button.png"></a></div>
							<div class="item"><a href="https://www.paypal.me/MarkoPintera/10" target="_blank"><img class="ui image" src="paypalDonate.png"></a></div>
						</div>
						<p style="padding-top:7px"><i>bs::f</i> is developed by Marko Pintera and contributors.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> <!-- Everything -->
</body>
</html>
